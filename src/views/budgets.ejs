<%- include("partials/header.ejs") %>
<%- include("partials/nav.ejs") %>
<!-- requires a budget: [{category, budgeted}] -->
<!-- requires a budgetTotal -->
<h1>Budgets</h1>
        <div>
        <p>Total budgeted: $<%= budgetTotal %> </p>
        </div>
        <table>
                <thead>
                        <tr>
                                <th>category</th>
                                <th>budgeted</th>
                        </tr>
                </thead>
                <tbody>
                        <% for (var i = 0; i < budgets.length; i++) { %>
                        <tr>
                                <td><%= budgets[i].category %> </td>
                                <td>$ <%= budgets[i].budget %> </td>
                                <form action="/deleteBudgetItm" method="POST">
                                        <input name="deleteCategory" value="<%= budgets[i].id %>" hidden>
                                        <td><button class="deleteBtn" type="submit">delete</button></td>
                                </form>
                        </tr>
                        <% } %>
                </tbody>
        </table>
        <form action="/budgets" method="POST" name="newBudgetItm">
                <input type="text" autocomplete="off" name="category" placeholder="category" autofocus required>
                <input type="number" step=".01" name="budgeted" placeholder="100" required>
                <button type="submit">Add</button>
        </form>
        <script src="" async defer></script>
    
<%- include("partials/footer.ejs") %> 